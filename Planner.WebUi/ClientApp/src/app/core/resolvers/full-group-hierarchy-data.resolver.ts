import { Injectable } from '@angular/core';
import { ActivatedRouteSnapshot, Resolve } from '@angular/router';
import { Observable } from 'rxjs';
import { FullGroupHierarchyData, GetFullUserGroupsHierarchyQuery, UserManagementClient } from '../autogenerated-clients/api-client';


@Injectable({ providedIn: 'root' })
export class FullGroupHierarchyDataResolver implements Resolve<Observable<FullGroupHierarchyData>> {
  constructor(private userManagementClient: UserManagementClient) { }

  resolve(routeSnapshot: ActivatedRouteSnapshot) {
    return this.userManagementClient.getFullUserGroupsHierarchy(new GetFullUserGroupsHierarchyQuery({
      activeStatusKey: "ANY",
      keywords: null,
      sortKey: "NAME_ASC",
      showEmptyGroupsAndSubGroups: true
    }));
  }
}

