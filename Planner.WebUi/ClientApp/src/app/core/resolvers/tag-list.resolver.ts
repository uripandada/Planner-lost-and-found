import { Injectable } from "@angular/core";
import { Resolve, ActivatedRouteSnapshot } from "@angular/router";
import { Observable } from "rxjs";
import { TagItemData, AssetManagementClient, GetAssetTagsQuery } from "../autogenerated-clients/api-client";

@Injectable({ providedIn: "root" })
export class TagListResolver implements Resolve<Observable<Array<TagItemData>>> {
  constructor(private assetManagementClient: AssetManagementClient) { }

  resolve(routeSnapshot: ActivatedRouteSnapshot) {
    return this.assetManagementClient.getAssetTags(new GetAssetTagsQuery({}));
  }
}
