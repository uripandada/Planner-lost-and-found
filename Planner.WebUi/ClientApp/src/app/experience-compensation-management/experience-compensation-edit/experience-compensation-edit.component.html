<div class="major-column-title">
  <ng-container *ngIf="(isCreateNew$ | async)">Create a <b>new experience compensation</b></ng-container>
  <ng-container *ngIf="!(isCreateNew$ | async)">Edit the <b>{{category.name}}</b> experience compensation</ng-container>
</div>
<div class="component-box">
  <div class="task-details-content">
    <form [formGroup]="categoryForm">

      <div>
        <mat-form-field appearance="outline" color="accent" class="full-width">
          <mat-label>Compensation Name</mat-label>
          <input type="text" matInput formControlName="name">
          <mat-error
            *ngIf="categoryForm.controls.name.invalid && (categoryForm.controls.name.dirty || categoryForm.controls.name.touched)">
            <div *ngIf="categoryForm.controls.name.errors.required">Required</div>
            <div *ngIf="categoryForm.controls.name.errors.EXPERIENCE_COMPENSATION_ALREADY_EXISTS">Already exists</div>
          </mat-error>
        </mat-form-field>

        <mat-form-field class="full-width" appearance="outline">
          <mat-label>Price</mat-label>
          <input formControlName="price" matInput>
          <mat-error
            *ngIf="categoryForm.controls.price.invalid && (categoryForm.controls.price.dirty || categoryForm.controls.price.touched)">
            <div *ngIf="categoryForm.controls.price.errors.required">Required</div>
          </mat-error>
        </mat-form-field>

        <mat-form-field class="full-width" appearance="outline">
          <mat-label>Currency</mat-label>
          <input formControlName="currency" matInput>
          <mat-error
            *ngIf="categoryForm.controls.currency.invalid && (categoryForm.controls.currency.dirty || categoryForm.controls.currency.touched)">
            <div *ngIf="categoryForm.controls.currency.errors.required">Required</div>
          </mat-error>
        </mat-form-field>
      </div>
      <div class="category-edit-actions">
        <div class="edit-confirm-actions">
          <button mat-flat-button type="button" class="button-with-icon secondary-button" (click)="save()"
            [disabled]="isSaving$ | async">
            <i class="icofont-check-alt"></i>
            <ng-container *ngIf="(isCreateNew$ | async)">Save</ng-container>
            <ng-container *ngIf="!(isCreateNew$ | async)">Update</ng-container>
          </button>
        </div>
        <div class="edit-cancel-actions">
          <button mat-flat-button type="button" class="button-with-icon" (click)="cancel()"><i class="icofont-undo"></i>
            Cancel</button>
        </div>
      </div>
    </form>
  </div>

</div>