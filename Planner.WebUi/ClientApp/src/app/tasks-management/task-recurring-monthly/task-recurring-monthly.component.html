<form [formGroup]="taskRecurringMonthlyForm">

  <div class="task-recurring-monthly-component">
    <div>
      <div class="inline-form-row">
        <label>Starts at</label>
        <div>
          <app-date-time [dateControl]="taskRecurringMonthlyForm.controls.startsAtDate" [timeControl]="taskRecurringMonthlyForm.controls.startsAtTime"></app-date-time>
        </div>
      </div>
      <div class="inline-form-row tasks-monthly-repeats">
        <label>Repeats</label>
        <div>
          <app-task-recurring-monthly-item *ngFor="let startsAtMonthDayForm of startsAtMonthDaysArray.controls; index as startsAtMonthDayFormIndex" [startsAtMonthDayForm]="startsAtMonthDayForm" [startsAtMonthDayFormIndex]="startsAtMonthDayFormIndex"></app-task-recurring-monthly-item>
        </div>
      </div>
      <div class="task-recurring-monthly-actions">
        <button mat-flat-button type="button" class="button-with-icon small-button" (click)="addStartsAtMonthDay()"><i class="icofont-plus"></i> Add another occurrence</button>
      </div>
      <!--<div class="task-recurring-week">
        <div *ngFor="let weekDayFormGroup of weekDaysArray.controls" class="recurring-week-day">
          <div class="recurring-week-day-header">{{weekDayFormGroup.controls.dayKey.value}}</div>
          <div class="recurring-week-day-body">
            <app-time-multiselect [timesArray]="weekDayFormGroup.controls.startsAtTimesArray"></app-time-multiselect>
          </div>
        </div>
      </div>-->

    </div>
  </div>

  <div class="form-groups task-recurring-until-wrapper">
    <!--<div class="form-group-title">Task repeats</div>-->
    <div class="">
      <div class="inline-form-row">
        <label>Repeats for</label>
        <div>
          <mat-radio-group aria-labelledby=""
                           class="task-recurrence-radio-group"
                           formControlName="repeatsForKey">
            <div class="radio-button-list-item">
              <mat-radio-button class="" value="NUMBER_OF_DAYS">
                Number of days
              </mat-radio-button>
              <mat-form-field appearance="outline" class="short-number-input text-right" *ngIf="taskRecurringMonthlyForm.controls.repeatsForKey.value === 'NUMBER_OF_DAYS'">
                <input type="text" matInput placeholder="X" formControlName="repeatsForNrDays" />
                <span matSuffix>days</span>
              </mat-form-field>
            </div>
            <div class="radio-button-list-item">
              <mat-radio-button class="" value="NUMBER_OF_OCCURENCES">
                Number of occurences
              </mat-radio-button>
              <mat-form-field appearance="outline" class="short-number-input text-right" *ngIf="taskRecurringMonthlyForm.controls.repeatsForKey.value === 'NUMBER_OF_OCCURENCES'">
                <input type="text" matInput placeholder="X" formControlName="repeatsForNrOccurences" />
                <span matSuffix>times</span>
              </mat-form-field>
            </div>
            <div class="radio-button-list-item">
              <mat-radio-button class="" value="SPECIFIC_DATE">
                Until date
              </mat-radio-button>
              <div *ngIf="taskRecurringMonthlyForm.controls.repeatsForKey.value === 'SPECIFIC_DATE'">
                <app-date-time [dateControl]="taskRecurringMonthlyForm.controls.repeatsUntilDate" [timeControl]="taskRecurringMonthlyForm.controls.repeatsUntilTime"></app-date-time>
              </div>
            </div>
          </mat-radio-group>
        </div>
      </div>



    </div>
  </div>
</form>
